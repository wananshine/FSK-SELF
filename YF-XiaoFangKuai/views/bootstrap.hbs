{{#section 'head'}}
<link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
<style type="text/css">
	.row{
		position: relative;
		overflow: hidden;
		width: 100%;
		margin: auto;
		background-color: gray;
	}
	.mr{
	}
	img{
		width: 100%;
	}
    .name{
        font-size: 22px;
    }
    .thumbnail{
    	height: 100%;
    }
    .img{
    	position: relative;
    	overflow: hidden;
    }

    .img-container {
    position: relative;
    padding-bottom: 20%;
    height: 0;
    overflow: hidden;
    background: red;
}
.img-container img {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
}
</style>
{{/section}}


<section>
	<div class="row">
		  {{#each goodsList}}
			  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-2 mr">
					<div class="thumbnail">
					    <p class="img imgH"><img class="goods_img" src="{{this.src}}" alt="..."></p>
					    <div class="caption">
					        <h3>{{this.name}}</h3>
					        <p>{{this.desc}}</p>
					        <p>{{this.price}}</p>
					    </div>
					 </div>
			  </div>
        {{/each}}
	</div>
</section>



{{#section 'jquery'}}
    <!-- we want js -->
    <script src="https://cdn.bootcss.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript">
    $(".head-inner").hide();
    var obj = {
    	init: function(){
	    	var $imgH1 = document.getElementsByClassName("goods_img");
	    	var $imgH = $(".imgH").height();
	    	var arrImg = [];
	    	for (var i = 0; i < $imgH1.length;  i++) {
	    		arrImg.push($imgH1[i].offsetHeight);
	    	}
	    	console.log(arrImg);
	    	arrImg.sort((num1, num2) => {
			    return num1 - num2 < 0
			});
			$(".imgH").height(arrImg[0]);
    	}
    };	
    obj.init();
    window.onresize = function () {
	    obj.init();
    };

	seajs.config({
        base: '//image.teshehui.com/webui/www/js/mbase/',
        alias: {
            'weixinjs': 'http://res.wx.qq.com/open/js/jweixin-1.0.0.js'
        }
    });
    seajs.config({
    	map: [
			["www/components/arouseApp.js", "www/components/arouseApp.2bd15ab6.min.js"], 
			["www/components/slider.js", "www/components/slider.9dfb219e.min.js"], 
			["www/entries/about.js", "www/entries/about.43305dc8.min.js"], 
			["www/entries/common.js", "www/entries/common.9f06776b.min.js"], 
			["www/entries/index.js", "www/entries/index.350be3cf.min.js"], 
			["www/entries/index_mobile.js", "www/entries/index_mobile.aab89c88.min.js"], 
			["www/entries/join_us.js", "www/entries/join_us.fc15817a.min.js"], 
			["www/entries/video.js", "www/entries/video.819f1e71.min.js"], 
			["www/entries/win_scroll.js", "www/entries/win_scroll.4794c93c.min.js"]
		]
	});
    </script>
{{/section}}